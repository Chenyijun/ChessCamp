<script src="//maps.google.com/maps/api/js?v=3.13&amp;sensor=false&amp;libraries=geometry" type="text/javascript"></script>
<script src='//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js' type='text/javascript'></script>
<%= stylesheet_link_tag "gmaps4rails" %>

<h3>Location Details</h3><br />
<strong>Name:&nbsp;&nbsp;</strong> 
  <%= @location.name %><br /><br />

<strong>Address:&nbsp;&nbsp;</strong> <br />
  <%= @location.street_1 %><br />
  <% if @location.street_2.nil? == false %> 
  	<%= @location.street_2 %> <br/>
  <% end %>
  <% if @location.city.nil? %>
  <%= "#{@location.zip}"%> <br /><br />
  <% else %>
  <%= "#{@location.city}, #{@location.state}  #{@location.zip}"%> <br /><br />
  <% end %>

<strong>Map&nbsp;&nbsp;</strong>
<%= image_tag @location.create_map_link %> 
<!-- <div style='width: 800px;'>
  <div id="map" style='width: 800px; height: 400px;'></div>
</div> -->

<script type="text/javascript">
//   handler = Gmaps.build('Google');
//   handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
//     markers = handler.addMarkers([
//       {
//         "lat": 0,
//         "lng": 0,
//         "picture": {
//           "url": "https://addons.cdn.mozilla.net/img/uploads/addon_icons/13/13028-64.png",
//           "width":  36,
//           "height": 36
//         },
//         "infowindow": "hello!"
//       }
//     ]);
//     handler.bounds.extendWith(markers);
//     handler.fitMapToBounds();
//   });
</script>
<br /> <br />

<strong>Maximum Capacity:&nbsp;&nbsp;</strong> 
  <%= @location.max_capacity %><br /><br />

<strong>Active?&nbsp;&nbsp;</strong>
  <%= @location.active ? "Yes" : "No" %><br /><br />



<%= link_to "Edit this location", edit_location_path(@location), class: "button tiny radius" %>&nbsp;&nbsp;
<%= link_to 'Destroy location', location_path(@location), data: { confirm: 'Are you sure you want to permanently remove this location from the system?' }, method: :delete, class: "button tiny radius alert" %>